<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>WIOA Youth Case Note Generator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Inter font + Tailwind -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <script>
    tailwind = window.tailwind || {};
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      },
    };
  </script>
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- React 18 UMD + ReactDOM -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <!-- Babel for JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-slate-950 font-sans text-slate-50">
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    // ---- CONFIG ----
    const NOTE_TYPES = [
      {
        id: "intake",
        label: "Intake / Orientation",
        description: "First contact, eligibility discussion, overview of WIOA Youth services.",
        fields: [
          { key: "primaryReason", label: "Primary reason for visit / contact", type: "textarea" },
          { key: "eligibilityDiscussed", label: "Eligibility factors discussed (in-school / out-of-school, barriers, income, etc.)", type: "textarea" },
          { key: "documentsCollected", label: "Documents collected (ID, SSN, income, school status, selective service, etc.)", type: "textarea" },
          { key: "topicsCovered", label: "Topics covered in orientation (rights, responsibilities, services, expectations)", type: "textarea" },
          { key: "participantEngagement", label: "Participant engagement / motivation level", type: "text" },
          { key: "nextSteps", label: "Next steps agreed upon (appointments, forms, assessments)", type: "textarea" },
        ],
      },
       {
        id: "itajustification",
        label: "ITA Justification",
        description: "ETPL, NCRC silver scores, ONET alignment.",
        fields: [
          { key: "primaryReason", label: "ITA match ONET, Job prospects, expected earnings, job growth", type: "textarea" },
          { key: "eligibilityDiscussed", label: "ITA on ETPL, details of program, duration, etc.)", type: "textarea" },
          { key: "documentsCollected", label: "Requirements for the ITA", type: "textarea" },
          { key: "topicsCovered", label: "Training identified on ISS, what will participant receive end of training", type: "textarea" },
          { key: "expectedoutcomes", label: "Job after Training", type: "text" },
          { key: "nextSteps", label: "Need to co-enroll, work experience, additional certification", type: "textarea" },
        ],
      },
      {
        id: "assessment",
        label: "Assessment / ISS Update",
        description: "Objective assessment, ISS development, goals and barriers.",
        fields: [
          { key: "assessmentsCompleted", label: "Assessments completed (academic, career interest, basic skills, etc.)", type: "textarea" },
          { key: "keyStrengths", label: "Key strengths identified", type: "textarea" },
          { key: "keyBarriers", label: "Key barriers identified", type: "textarea" },
          { key: "issGoals", label: "ISS goals added or updated (education, employment, support)", type: "textarea" },
          { key: "youthVoice", label: "How youth participated in goal setting / choices", type: "textarea" },
          { key: "timeframes", label: "Timeframes or milestones discussed", type: "textarea" },
        ],
      },
      {
        id: "service",
        label: "Service Provided (Career / Training)",
        description: "Career or training service delivered today.",
        fields: [
          { key: "serviceType", label: "Service type (career exploration, resume help, job search, training, etc.)", type: "text" },
          { key: "serviceDetails", label: "What was done during the service (activities, tools used, employers/training providers discussed)", type: "textarea" },
          { key: "participantResponse", label: "Participant response / level of participation", type: "textarea" },
          { key: "outcomes", label: "Immediate outcomes (applications completed, resume updated, training option selected, etc.)", type: "textarea" },
          { key: "alignmentISS", label: "How the service supports ISS goal(s)", type: "textarea" },
          { key: "followUpActions", label: "Follow-up actions (for staff and youth)", type: "textarea" },
        ],
      },
      {
        id: "supportive",
        label: "Supportive Service",
        description: "Supportive service provided or approved (transportation, childcare, etc.).",
        fields: [
          { key: "barrierAddressed", label: "Barrier addressed (transportation, childcare, housing, etc.)", type: "textarea" },
          { key: "supportType", label: "Supportive service type (bus pass, gas card, tools, fees, etc.)", type: "text" },
          { key: "amount", label: "Amount / value and period covered", type: "text" },
          { key: "justification", label: "Eligibility and justification (how service is necessary for participation)", type: "textarea" },
          { key: "documentation", label: "Documentation on file (receipts, invoices, policies, approvals)", type: "textarea" },
          { key: "participantUnderstanding", label: "Youth understanding of supportive service limits and expectations", type: "textarea" },
        ],
      },
      {
        id: "followup",
        label: "Follow-Up Contact (Youth)",
        description: "Ongoing contact after service start / exit to support retention and outcomes.",
        fields: [
          { key: "statusUpdate", label: "Current school/work status reported by youth", type: "textarea" },
          { key: "stability", label: "Stability of situation (hours, schedule, attendance, grades, etc.)", type: "textarea" },
          { key: "issuesRaised", label: "Any issues or concerns raised by youth", type: "textarea" },
          { key: "supportsOffered", label: "Supports, coaching, or referrals offered", type: "textarea" },
          { key: "verification", label: "How status was verified (contact with employer/school, documentation requested, etc.)", type: "textarea" },
          { key: "nextContactPlan", label: "Plan for next contact (method, timeframe)", type: "textarea" },
        ],
      },
      {
        id: "placement",
        label: "Employment / Placement",
        description: "Youth obtained employment / work-based learning / apprenticeship.",
        fields: [
          { key: "placementType", label: "Type of placement (employment, WEX, OJT, apprenticeship, etc.)", type: "text" },
          { key: "employerInfo", label: "Employer / site name and position title (no PII beyond policy)", type: "textarea" },
          { key: "schedulePay", label: "Schedule, hours, pay rate, and start date (as allowed by policy)", type: "textarea" },
          { key: "howFound", label: "How opportunity was obtained (staff assisted, self-directed, referral, etc.)", type: "textarea" },
          { key: "trainingConnection", label: "Connection to training / ISS goals", type: "textarea" },
          { key: "retentionPlan", label: "Retention and follow-up plan", type: "textarea" },
        ],
      },
    ];
    
// ---- HELPERS (paragraph-style output) ----
function ensureSentence(text) {
  if (!text) return "";
  // Turn any runs of whitespace (spaces, tabs, newlines) into a single space
  let t = String(text).replace(/\s+/g, " ").trim();
  if (!t) return "";
  const last = t[t.length - 1];
  if (!".!?".includes(last)) t += ".";
  return t;
}
function buildNote(global, typeConfig, specific) {
  const dateStr = global.noteDate || new Date().toLocaleDateString();
  const timeStr = global.noteTime ? ` at ${global.noteTime}` : "";
  const staffPart = global.staffName
    ? `${global.staffName}${global.staffRole ? `, ${global.staffRole}` : ""}`
    : "staff";
  const participantPart = global.participantName
    ? `${global.participantName}${global.sid ? ` (SID ${global.sid})` : ""}`
    : "the participant";
  const contactType = (global.contactType || "contact").toLowerCase();
  const locationPart = global.location ? ` at ${global.location}` : "";
  const fundingPart = global.fundingStream
    ? ` under WIOA Youth (${global.fundingStream})`
    : " under WIOA Youth.";

  // Intro sentence (who/when/where/why program)
  let intro =
    `On ${dateStr}${timeStr}, ${staffPart} had a ${contactType} with ${participantPart}` +
    `${locationPart}${fundingPart}`;

  intro = ensureSentence(intro);

  const segments = [];

  switch (typeConfig.id) {
    case "intake": {
      if (specific.primaryReason) {
        segments.push(
          ensureSentence(
            `The primary reason for the contact was ${specific.primaryReason}`
          )
        );
      }
      if (specific.eligibilityDiscussed) {
        segments.push(
          ensureSentence(
            `Eligibility discussion included ${specific.eligibilityDiscussed}`
          )
        );
      }
      if (specific.documentsCollected) {
        segments.push(
          ensureSentence(
            `Documents collected or reviewed included ${specific.documentsCollected}`
          )
        );
      }
      if (specific.topicsCovered) {
        segments.push(
          ensureSentence(
            `Orientation topics covered included ${specific.topicsCovered}`
          )
        );
      }
      if (specific.participantEngagement) {
        segments.push(
          ensureSentence(
            `The youth’s level of engagement and motivation was described as ${specific.participantEngagement}`
          )
        );
      }
      if (specific.nextSteps) {
        segments.push(
          ensureSentence(
            `Next steps and follow-up agreed upon were ${specific.nextSteps}`
          )
        );
      }
      break;
    }

    case "assessment": {
      if (specific.assessmentsCompleted) {
        segments.push(
          ensureSentence(
            `The following assessments were completed or reviewed: ${specific.assessmentsCompleted}`
          )
        );
      }
      if (specific.keyStrengths) {
        segments.push(
          ensureSentence(
            `Key strengths identified were ${specific.keyStrengths}`
          )
        );
      }
      if (specific.keyBarriers) {
        segments.push(
          ensureSentence(
            `Key barriers identified were ${specific.keyBarriers}`
          )
        );
      }
      if (specific.issGoals) {
        segments.push(
          ensureSentence(
            `ISS goals were added or updated as follows: ${specific.issGoals}`
          )
        );
      }
      if (specific.youthVoice) {
        segments.push(
          ensureSentence(
            `Youth choice and voice were reflected in the plan by ${specific.youthVoice}`
          )
        );
      }
      if (specific.timeframes) {
        segments.push(
          ensureSentence(
            `Timeframes and milestones discussed included ${specific.timeframes}`
          )
        );
      }
      break;
    }

    case "service": {
      if (specific.serviceType) {
        segments.push(
          ensureSentence(`Service provided was ${specific.serviceType}`)
        );
      }
      if (specific.serviceDetails) {
        segments.push(
          ensureSentence(
            `During the contact, the following activities were completed: ${specific.serviceDetails}`
          )
        );
      }
      if (specific.participantResponse) {
        segments.push(
          ensureSentence(
            `The youth’s participation and response were described as ${specific.participantResponse}`
          )
        );
      }
      if (specific.outcomes) {
        segments.push(
          ensureSentence(
            `Immediate outcomes of the contact included ${specific.outcomes}`
          )
        );
      }
      if (specific.alignmentISS) {
        segments.push(
          ensureSentence(
            `This service supports the ISS by ${specific.alignmentISS}`
          )
        );
      }
      if (specific.followUpActions) {
        segments.push(
          ensureSentence(
            `Follow-up actions and responsibilities include ${specific.followUpActions}`
          )
        );
      }
      break;
    }

    case "supportive": {
      if (specific.barrierAddressed) {
        segments.push(
          ensureSentence(
            `The supportive service addressed the following barrier: ${specific.barrierAddressed}`
          )
        );
      }
      if (specific.supportType) {
        segments.push(
          ensureSentence(
            `Supportive service provided or approved was ${specific.supportType}`
          )
        );
      }
      if (specific.amount) {
        segments.push(
          ensureSentence(
            `The amount or period of support was ${specific.amount}`
          )
        );
      }
      if (specific.justification) {
        segments.push(
          ensureSentence(
            `Eligibility and justification for the supportive service are documented as follows: ${specific.justification}`
          )
        );
      }
      if (specific.documentation) {
        segments.push(
          ensureSentence(
            `Documentation on file includes ${specific.documentation}`
          )
        );
      }
      if (specific.participantUnderstanding) {
        segments.push(
          ensureSentence(
            `The youth’s understanding of limits and expectations related to the supportive service was reviewed as follows: ${specific.participantUnderstanding}`
          )
        );
      }
      break;
    }

    case "followup": {
      if (specific.statusUpdate) {
        segments.push(
          ensureSentence(
            `The youth reported the following current school or work status: ${specific.statusUpdate}`
          )
        );
      }
      if (specific.stability) {
        segments.push(
          ensureSentence(
            `Stability and performance were described as ${specific.stability}`
          )
        );
      }
      if (specific.issuesRaised) {
        segments.push(
          ensureSentence(
            `Issues or concerns raised by the youth included ${specific.issuesRaised}`
          )
        );
      }
      if (specific.supportsOffered) {
        segments.push(
          ensureSentence(
            `Supports, coaching, or referrals offered included ${specific.supportsOffered}`
          )
        );
      }
      if (specific.verification) {
        segments.push(
          ensureSentence(
            `Status was verified using the following method(s): ${specific.verification}`
          )
        );
      }
      if (specific.nextContactPlan) {
        segments.push(
          ensureSentence(
            `The plan for next contact is ${specific.nextContactPlan}`
          )
        );
      }
      break;
    }

    case "placement": {
      if (specific.placementType) {
        segments.push(
          ensureSentence(
            `The youth obtained the following placement: ${specific.placementType}`
          )
        );
      }
      if (specific.employerInfo) {
        segments.push(
          ensureSentence(
            `Employer or site information and position were described as ${specific.employerInfo}`
          )
        );
      }
      if (specific.schedulePay) {
        segments.push(
          ensureSentence(
            `Schedule, hours, pay, and start date were documented as ${specific.schedulePay}`
          )
        );
      }
      if (specific.howFound) {
        segments.push(
          ensureSentence(
            `The opportunity was obtained as follows: ${specific.howFound}`
          )
        );
      }
      if (specific.trainingConnection) {
        segments.push(
          ensureSentence(
            `This placement connects to ISS and training goals by ${specific.trainingConnection}`
          )
        );
      }
      if (specific.retentionPlan) {
        segments.push(
          ensureSentence(
            `A retention and follow-up plan was discussed as follows: ${specific.retentionPlan}`
          )
        );
      }
      break;
    }

    default: {
      // generic fallback: turn every field into a sentence
      typeConfig.fields.forEach(f => {
        const val = specific[f.key];
        if (!val || !String(val).trim()) return;
        segments.push(
          ensureSentence(`${f.label}: ${val}`)
        );
      });
    }
  }

  const main = segments.filter(Boolean).join(" ");

  const compliance =
    " This note documents who, what, when, where, why, outcomes, and planned follow-up consistent with local WIOA Youth policy. " +
    "Associated services and funding will be entered in the case management system according to local documentation requirements.";

  return intro + (main ? " " + main : "") + compliance;
}
    
    // ---- COMPONENT ----
    function App() {
      const [selectedTypeId, setSelectedTypeId] = useState("intake");

      const [global, setGlobal] = useState({
        participantName: "",
        sid: "",
        staffName: "",
        staffRole: "",
        fundingStream: "Youth (ISY/OSY)",
        noteDate: new Date().toISOString().slice(0, 10),
        noteTime: "",
        contactType: "In person",
        location: "",
      });

      const [typeAnswers, setTypeAnswers] = useState({});
      const [noteText, setNoteText] = useState("");
      const [error, setError] = useState("");

      const selectedType = NOTE_TYPES.find(t => t.id === selectedTypeId) || NOTE_TYPES[0];
      const answersForType = typeAnswers[selectedType.id] || {};

      function updateGlobal(field, value) {
        setGlobal(prev => ({ ...prev, [field]: value }));
      }

      function updateTypeAnswer(typeId, key, value) {
        setTypeAnswers(prev => ({
          ...prev,
          [typeId]: { ...(prev[typeId] || {}), [key]: value },
        }));
      }

      function handleGenerate() {
        setError("");
        const missing = [];
        if (!global.participantName.trim()) missing.push("Participant name");
        if (!global.staffName.trim()) missing.push("Staff name");
        if (!global.noteDate.trim()) missing.push("Note date");

        if (missing.length) {
          setError("Please complete: " + missing.join(", ") + ".");
          return;
        }

        const note = buildNote(global, selectedType, answersForType);
        setNoteText(note);
      }

      function handleCopy() {
        if (!noteText.trim()) {
          setError("Generate a case note before copying.");
          return;
        }
        if (navigator.clipboard?.writeText) {
          navigator.clipboard.writeText(noteText)
            .then(() => setError("Note copied to clipboard. Paste into NEworks."))
            .catch(() => setError("Unable to copy automatically. Select the text and copy."));
        } else {
          setError("Clipboard not supported. Select the text and copy.");
        }
      }

      return (
        <div className="min-h-screen px-3 py-4 md:px-6 md:py-6">
          <div className="max-w-6xl mx-auto bg-slate-900/80 border border-slate-800 rounded-3xl shadow-2xl p-4 md:p-6 lg:p-8">
            {/* Header */}
            <div className="flex flex-wrap items-center justify-between gap-4 mb-6">
              <div>
                <div className="inline-flex items-center gap-2 mb-1">
                  <span className="inline-flex items-center rounded-full bg-emerald-500/10 text-emerald-300 border border-emerald-500/40 px-2 py-0.5 text-[10px] uppercase tracking-wide">
                    WIOA Youth
                  </span>
                  <span className="text-[11px] text-slate-400">Case Note Generator</span>
                </div>
                <h1 className="text-2xl font-bold tracking-tight">Audit-Ready Case Notes</h1>
                <p className="text-sm text-slate-400 mt-1">
                  Select a case note type, answer guided prompts, then copy the generated note into NEworks.
                </p>
              </div>
              <div className="text-xs text-slate-400 text-right max-w-xs">
                Designed to capture who, what, when, where, why, outcomes, and follow-up for Youth WIOA.
              </div>
            </div>

            <div className="grid grid-cols-1 lg:grid-cols-2 gap-5">
              {/* Left: inputs */}
              <div className="space-y-4">
                <div className="bg-slate-950/70 border border-slate-800 rounded-2xl p-4 space-y-3">
                  <div className="text-xs font-semibold text-slate-200 tracking-wide uppercase mb-1">
                    Global Fields
                  </div>
                  <div className="grid grid-cols-2 gap-3">
                    <div className="space-y-1.5">
                      <label className="text-[11px] font-semibold text-slate-300 uppercase">Participant name</label>
                      <input
                        className="w-full h-9 px-3 rounded-lg border border-slate-700 bg-slate-900 text-slate-100 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/60"
                        value={global.participantName}
                        onChange={e => updateGlobal("participantName", e.target.value)}
                      />
                    </div>
                    <div className="space-y-1.5">
                      <label className="text-[11px] font-semibold text-slate-300 uppercase">SID / ID</label>
                      <input
                        className="w-full h-9 px-3 rounded-lg border border-slate-700 bg-slate-900 text-slate-100 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/60"
                        value={global.sid}
                        onChange={e => updateGlobal("sid", e.target.value)}
                      />
                    </div>
                    <div className="space-y-1.5">
                      <label className="text-[11px] font-semibold text-slate-300 uppercase">Staff name</label>
                      <input
                        className="w-full h-9 px-3 rounded-lg border border-slate-700 bg-slate-900 text-slate-100 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/60"
                        value={global.staffName}
                        onChange={e => updateGlobal("staffName", e.target.value)}
                      />
                    </div>
                    <div className="space-y-1.5">
                      <label className="text-[11px] font-semibold text-slate-300 uppercase">Staff role/title</label>
                      <input
                        className="w-full h-9 px-3 rounded-lg border border-slate-700 bg-slate-900 text-slate-100 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/60"
                        value={global.staffRole}
                        onChange={e => updateGlobal("staffRole", e.target.value)}
                      />
                    </div>
                    <div className="space-y-1.5">
                      <label className="text-[11px] font-semibold text-slate-300 uppercase">Note date</label>
                      <input
                        type="date"
                        className="w-full h-9 px-3 rounded-lg border border-slate-700 bg-slate-900 text-slate-100 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/60"
                        value={global.noteDate}
                        onChange={e => updateGlobal("noteDate", e.target.value)}
                      />
                    </div>
                    <div className="space-y-1.5">
                      <label className="text-[11px] font-semibold text-slate-300 uppercase">Time (optional)</label>
                      <input
                        type="time"
                        className="w-full h-9 px-3 rounded-lg border border-slate-700 bg-slate-900 text-slate-100 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/60"
                        value={global.noteTime}
                        onChange={e => updateGlobal("noteTime", e.target.value)}
                      />
                    </div>
                    <div className="space-y-1.5">
                      <label className="text-[11px] font-semibold text-slate-300 uppercase">Contact type</label>
                      <select
                        className="w-full h-9 px-3 rounded-lg border border-slate-700 bg-slate-900 text-slate-100 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/60"
                        value={global.contactType}
                        onChange={e => updateGlobal("contactType", e.target.value)}
                      >
                        <option>In person</option>
                        <option>Phone</option>
                        <option>Virtual / online</option>
                        <option>Email / text</option>
                        <option>Other</option>
                      </select>
                    </div>
                    <div className="space-y-1.5">
                      <label className="text-[11px] font-semibold text-slate-300 uppercase">Location</label>
                      <input
                        className="w-full h-9 px-3 rounded-lg border border-slate-700 bg-slate-900 text-slate-100 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/60"
                        placeholder="e.g., One-Stop, school, employer site"
                        value={global.location}
                        onChange={e => updateGlobal("location", e.target.value)}
                      />
                    </div>
                    <div className="space-y-1.5 col-span-2">
                      <label className="text-[11px] font-semibold text-slate-300 uppercase">Funding stream / enrollment</label>
                      <input
                        className="w-full h-9 px-3 rounded-lg border border-slate-700 bg-slate-900 text-slate-100 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/60"
                        value={global.fundingStream}
                        onChange={e => updateGlobal("fundingStream", e.target.value)}
                      />
                    </div>
                  </div>
                </div>

                <div className="bg-slate-950/70 border border-slate-800 rounded-2xl p-4 space-y-3">
                  <div className="flex items-center justify-between gap-2">
                    <div>
                      <div className="text-xs font-semibold text-slate-200 uppercase tracking-wide">
                        Case Note Type
                      </div>
                      <p className="text-[11px] text-slate-400">
                        Different note types ask different questions to cover audit requirements.
                      </p>
                    </div>
                  </div>
                  <select
                    className="w-full h-9 px-3 rounded-lg border border-slate-700 bg-slate-900 text-slate-100 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/60"
                    value={selectedTypeId}
                    onChange={e => setSelectedTypeId(e.target.value)}
                  >
                    {NOTE_TYPES.map(t => (
                      <option key={t.id} value={t.id}>{t.label}</option>
                    ))}
                  </select>
                  <p className="text-[11px] text-slate-400">
                    {selectedType.description}
                  </p>

                  <div className="mt-2 space-y-3 max-h-80 overflow-auto pr-1">
                    {selectedType.fields.map(field => (
                      <div key={field.key} className="space-y-1.5">
                        <label className="text-[11px] font-semibold text-slate-300 uppercase">
                          {field.label}
                        </label>
                        {field.type === "textarea" ? (
                          <textarea
                            rows="3"
                            className="w-full px-3 py-2 rounded-lg border border-slate-700 bg-slate-900 text-slate-100 text-sm placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/60"
                            value={answersForType[field.key] || ""}
                            onChange={e => updateTypeAnswer(selectedType.id, field.key, e.target.value)}
                          ></textarea>
                        ) : (
                          <input
                            className="w-full h-9 px-3 rounded-lg border border-slate-700 bg-slate-900 text-slate-100 text-sm placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/60"
                            value={answersForType[field.key] || ""}
                            onChange={e => updateTypeAnswer(selectedType.id, field.key, e.target.value)}
                          />
                        )}
                      </div>
                    ))}
                  </div>
                </div>

                {error && (
                  <div className="text-[11px] text-amber-300 bg-amber-500/10 border border-amber-500/40 rounded-lg px-3 py-2">
                    {error}
                  </div>
                )}

                <div className="flex gap-2">
                  <button
                    onClick={handleGenerate}
                    className="flex-1 px-3 py-2 text-sm rounded-full bg-emerald-500 hover:bg-emerald-400 text-slate-900 font-semibold shadow-sm transition-colors"
                  >
                    Generate Case Note
                  </button>
                  <button
                    onClick={handleCopy}
                    className="px-3 py-2 text-sm rounded-full border border-slate-600 bg-slate-900 hover:bg-slate-800 text-slate-100 transition-colors"
                  >
                    Copy to Clipboard
                  </button>
                </div>
              </div>

              {/* Right: output */}
              <div className="bg-slate-950/70 border border-slate-800 rounded-2xl p-4 flex flex-col h-full">
                <div className="flex items-center justify-between mb-2">
                  <div>
                    <div className="text-xs font-semibold text-slate-200 uppercase tracking-wide">
                      Generated Case Note
                    </div>
                    <p className="text-[11px] text-slate-400">
                      Review before pasting into NEworks. Edit text if needed to match local policy.
                    </p>
                  </div>
                  <span className="text-[10px] text-slate-500">
                    Includes who, what, when, where, why, outcomes, and follow-up.
                  </span>
                </div>
                <textarea
                  className="flex-1 w-full mt-2 px-3 py-2 rounded-lg border border-slate-700 bg-slate-900 text-slate-100 text-xs font-mono leading-relaxed focus:outline-none focus:ring-2 focus:ring-emerald-500/60"
                  value={noteText}
                  onChange={e => setNoteText(e.target.value)}
                  placeholder="Generated case note will appear here after you click “Generate Case Note”."
                ></textarea>
              </div>
            </div>
          </div>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<App />);
  </script>
</body>
</html>
